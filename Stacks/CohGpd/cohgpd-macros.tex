%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Environments
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\theoremstyle{plain}
\newtheorem{thm}{Theorem}[section]
\newtheorem{prop}[thm]{Proposition}
\newtheorem{lem}[thm]{Lemma}
\newtheorem{cor}[thm]{Corollary}
\newtheorem*{thm*}{Theorem}
\newtheorem*{prop*}{Proposition}
\newtheorem*{lem*}{Lemma}
\newtheorem*{cor*}{Corollary}
\newtheorem{thmit}{Teorema}[section]
\newtheorem{propit}[thmit]{Proposizione}
\newtheorem{lemit}[thmit]{Lemma}
\newtheorem{corit}[thmit]{Corollario}
\newtheorem*{thmit*}{Teorema}
\newtheorem*{propit*}{Proposizione}
\newtheorem*{lemit*}{Lemma}
\newtheorem*{corit*}{Corollario}
\theoremstyle{definition}
\newtheorem{defn}[thm]{Definition}
\newtheorem{rmk}[thm]{Remark}
\newtheorem{ex}[thm]{Example}
\newtheorem{exs}[thm]{Examples}
\newtheorem*{defn*}{Definition}
\newtheorem*{rmk*}{Remark}
\newtheorem*{ex*}{Example}
\newtheorem*{exs*}{Examples}
\newtheorem{defnit}[thmit]{Definizione}
\newtheorem{rmkit}[thmit]{Osservazione}
\newtheorem{exit}[thmit]{Esempio}
\newtheorem{exsit}[thmit]{Esempi}
\newtheorem*{defnit*}{Definizione}
\newtheorem*{rmkit*}{Osservazione}
\newtheorem*{exit*}{Esempio}
\newtheorem*{exsit*}{Esempi}

\Crefname{thm}{Theorem}{Theorems}
\Crefname{prop}{Proposition}{Propositions}
\Crefname{lem}{Lemma}{Lemmas}
\Crefname{cor}{Corollary}{Corollaries}
\Crefname{defn}{Definition}{Definitions}
\Crefname{rmk}{Remark}{Remarks}
\Crefname{ex}{Example}{Examples}
\Crefname{exs}{Examples}{Examples}
\Crefname{thmit}{Teorema}{Teoremi}
\Crefname{propit}{Proposizione}{Proposizioni}
\Crefname{lemit}{Lemma}{Lemmi}
\Crefname{corit}{Corollario}{Corollari}
\Crefname{defnit}{Definizione}{Definizioni}
\Crefname{rmkit}{Osservazione}{Osservazioni}
\Crefname{exit}{Esempio}{Esempi}
\Crefname{exsit}{Esempi}{Esempi}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% New characters
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\DeclareFontFamily{OT1}{pzc}{}
\DeclareFontShape{OT1}{pzc}{m}{it}{<->s*[1.14]pzcmi7t}{}
\DeclareMathAlphabet{\mathpzc}{OT1}{pzc}{m}{it}
\DeclareBoldMathCommand{\bldepsi}{\varepsilon}
\DeclareBoldMathCommand{\bldeta}{\eta}
\DeclareBoldMathCommand{\bldnu}{\nu}
\DeclareBoldMathCommand{\bldxi}{\xi}
\DeclareBoldMathCommand{\bldlam}{\lambda}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% TiKZ settings
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\tikzset{fib/.style={->>}}
\tikzset{kl/.style={-Latex[round]}}
\tikzset{car/.style={-Arc Barb}}
\tikzset{cocar/.style={-Bracket}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% New commands
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% General macros
\newcommand{\define}[1]{\textbf{#1}}
\newcommand{\blank}{\mathrm{-}}
\newcommand{\ie}{{\textit{i.e.}}}
\newcommand{\eg}{{\textit{e.g.}}}
\newcommand{\iffmy}{if and only if}
\newcommand{\wrt}{with respect to}
\newcommand{\vphi}{\varphi}
\newcommand{\vepsi}{\varepsilon}
\newcommand{\eqrefn}[1]{(\ref*{#1})}

% Categories
\newcommand{\ot}{\leftarrow}
\newcommand{\mono}{\hookrightarrow}
\newcommand{\arcmp}{\mathbin{\circ}}
\newcommand{\idcat}[1]{\mathrm{id}_{#1}}
\newcommand{\opcat}{^{\mathrm{op}}}
\newcommand{\cateq}{\equiv}
\newcommand{\adjrot}[1]{\mathrel{\rotatebox[origin=c]{#1}{$\dashv$}}}
\newcommand{\adjrfl}{\mathrel{{}_{\mathrm{r}}\!\!\dashv}}
\newcommand{\adjcorfl}{\mathrel{\dashv_{\mathrm{c}}}}
%\newcommand{\adjinv}[1]{\mathrel{\dashv_{\mathrm{#1}}}}
%\newcommand{\lari}{\adjinv{lari}}
%\newcommand{\rari}{\adjinv{rari}}
%\newcommand{\lali}{\adjinv{lali}}
%\newcommand{\rali}{\adjinv{rali}}
\newcommand{\stimes}{\!\times\!}
\newcommand{\ple}[1]{\langle{#1}\rangle}
\newcommand{\pr}[1]{{\mathrm{pr}}_{#1}}
\newcommand{\yo}{\mathsf{y}}

% notation for 2-categories
\newcommand{\catof}[1]{\mathbf{#1}}
\newcommand{\grphCat}{\catof{Grph}}
\newcommand{\catCat}{\catof{Cat}}
\newcommand{\catprCat}{\catof{PrCat}}
\newcommand{\gpdCat}{\catof{Gpd}}
\newcommand{\setCat}{\catof{Set}}
\newcommand{\posCat}{\catof{Pos}}
\newcommand{\grpCat}{\catof{Grp}}
\newcommand{\fibCat}{\catof{Fib}}
\newcommand{\fibprCat}{\catof{PrFib}}
\newcommand{\fibelCat}{\catof{ElFib}}
\newcommand{\fibqelCat}{\catof{QElFib}}
\newcommand{\algCat}[1]{\catof{Alg}(#1)}
\newcommand{\coalgCat}[1]{\catof{CoAlg}(#1)}

% notation for 1-categories
\newcommand{\cat}[1]{\mathpzc{#1}}
\newcommand{\trmcat}{\cat{1}}
\newcommand{\arrcat}{\cat{2}}
\newcommand{\grphcat}{\cat{Grph}}
\newcommand{\catcat}{\cat{Cat}}
\newcommand{\catprcat}{\cat{PrCat}}
\newcommand{\gpdcat}{\cat{Gpd}}
\newcommand{\setcat}{\cat{Set}}
\newcommand{\fibcat}{\cat{Fib}}
\newcommand{\grpcat}{\cat{Grp}}
\newcommand{\topcat}{\cat{Top}}
\newcommand{\algcat}[1]{\cat{Alg}(#1)}
\newcommand{\coalgcat}[1]{\cat{CoAlg}(#1)}
\newcommand{\Acat}{\cat{A}}
\newcommand{\Bcat}{\cat{B}}
\newcommand{\Ccat}{\cat{C}}
\newcommand{\Dcat}{\cat{D}}
\newcommand{\Ecat}{\cat{E}}
\newcommand{\Fcat}{\cat{F}}
%\newcommand{\Icat}{\cat{I}} not available??
\newcommand{\Jcat}{\cat{J}}

% notation for internal categories
\newcommand{\idincat}[1]{\mathsf{un}_{#1}}
\newcommand{\cmpincat}[1]{\mathsf{cmp}_{#1}}
\newcommand{\invincat}[1]{\mathsf{inv}_{#1}}
\newcommand{\domincat}[1]{\mathsf{d}_{#1}}
\newcommand{\codincat}[1]{\mathsf{c}_{#1}}
\DeclareMathOperator{\cmpincatinfx}{\raisebox{.2ex}{$\centerdot$}}
\newcommand{\trmincat}{\mathbbm{1}}

% categories of internal categories
\newcommand{\catincat}[1]{\catCat(#1)}
\newcommand{\gpdincat}[1]{\gpdCat(#1)}
\newcommand{\chgpdincat}[1]{\catof{CohGpd}(#1)}
\newcommand{\Egpdin}{\gpdincat{\Ecat}}
\newcommand{\Echgpdin}{\chgpdincat{\Ecat}}
%\newcommand{\gpdincatcd}[2]{\gpdincat{#1}_{#2\textup{-cd}}}
%\newcommand{\catinfib}[1]{\catincat{#1}}
%\newcommand{\gpdinfib}[1]{\gpdincat{#1}}
%\newcommand{\Kgpd}{\gpdinfib{K}}
%\newcommand{\KKgpd}{\gpdinfib{K'}}

% variables for internal groupoids
\newcommand{\gpdfib}[1]{\mathbb{#1}}
\newcommand{\Agpdf}{\gpdfib{A}}
\newcommand{\Bgpdf}{\gpdfib{B}}
\newcommand{\Cgpdf}{\gpdfib{C}}
\newcommand{\obgpdf}[1]{{#1}_0}
\newcommand{\Aobgpdf}{\obgpdf{A}}
\newcommand{\Bobgpdf}{\obgpdf{B}}
\newcommand{\Cobgpdf}{\obgpdf{C}}
\newcommand{\argpdf}[1]{{#1}_1}
\newcommand{\Aargpdf}{\argpdf{A}}
\newcommand{\Bargpdf}{\argpdf{B}}
\newcommand{\Cargpdf}{\argpdf{C}}
%\newcommand{\idgpdf}[1]{\idincat{#1}}
\newcommand{\Aidgpdf}{\idincat{\Agpdf}}
\newcommand{\Bidgpdf}{\idincat{\Bgpdf}}
\newcommand{\Cidgpdf}{\idincat{\Cgpdf}}
%\newcommand{\cmpgpdf}[1]{\cmpincat{#1}}
\newcommand{\Acmpgpdf}{\cmpincat{\Agpdf}}
\newcommand{\Bcmpgpdf}{\cmpincat{\Bgpdf}}
\newcommand{\Ccmpgpdf}{\cmpincat{\Cgpdf}}
%\newcommand{\invgpdf}[1]{\invincat{#1}}
\newcommand{\Ainvgpdf}{\invincat{\Agpdf}}
\newcommand{\Binvgpdf}{\invincat{\Bgpdf}}
\newcommand{\Cinvgpdf}{\invincat{\Cgpdf}}
%\newcommand{\domgpdf}[1]{\domincat{#1}}
\newcommand{\Adomgpdf}{\domincat{\Agpdf}}
\newcommand{\Bdomgpdf}{\domincat{\Bgpdf}}
\newcommand{\Cdomgpdf}{\domincat{\Cgpdf}}
%\newcommand{\codgpdf}[1]{\codincat{#1}}
\newcommand{\Acodgpdf}{\codincat{\Agpdf}}
\newcommand{\Bcodgpdf}{\codincat{\Bgpdf}}
\newcommand{\Ccodgpdf}{\codincat{\Cgpdf}}
\newcommand{\Xgpdf}{\gpdfib{X}}
\newcommand{\Ygpdf}{\gpdfib{Y}}
\newcommand{\Zgpdf}{\gpdfib{Z}}
\newcommand{\Xargpdf}{\argpdf{X}}
\newcommand{\Yargpdf}{\argpdf{Y}}
\newcommand{\Zargpdf}{\argpdf{Z}}
%\newcommand{\idgpdf}[1]{\idincat{#1}}
\newcommand{\Xidgpdf}{\idincat{\Xgpdf}}
\newcommand{\Yidgpdf}{\idincat{\Ygpdf}}
\newcommand{\Zidgpdf}{\idincat{\Zgpdf}}
%\newcommand{\cmpgpdf}[1]{\cmpincat{#1}}
\newcommand{\Xcmpgpdf}{\cmpincat{\Xgpdf}}
\newcommand{\Ycmpgpdf}{\cmpincat{\Ygpdf}}
\newcommand{\Zcmpgpdf}{\cmpincat{\Zgpdf}}
%\newcommand{\invgpdf}[1]{\invincat{#1}}
\newcommand{\Xinvgpdf}{\invincat{\Xgpdf}}
\newcommand{\Yinvgpdf}{\invincat{\Ygpdf}}
\newcommand{\Zinvgpdf}{\invincat{\Zgpdf}}
%\newcommand{\domgpdf}[1]{\domincat{#1}}
\newcommand{\Xdomgpdf}{\domincat{\Xgpdf}}
\newcommand{\Ydomgpdf}{\domincat{\Ygpdf}}
\newcommand{\Zdomgpdf}{\domincat{\Zgpdf}}
%\newcommand{\codgpdf}[1]{\codincat{#1}}
\newcommand{\Xcodgpdf}{\codincat{\Xgpdf}}
\newcommand{\Ycodgpdf}{\codincat{\Ygpdf}}
\newcommand{\Zcodgpdf}{\codincat{\Zgpdf}}

% the action on arrows of a groupoid that closes the box
\newcommand{\lidgpdfib}[1]{\mathrm{lid}_{#1}}
\newcommand{\Xlidgpdf}{\lidgpdfib{\Xgpdf}}
\newcommand{\Ylidgpdf}{\lidgpdfib{\Ygpdf}}
\newcommand{\Alidgpdf}{\lidgpdfib{\Agpdf}}
\newcommand{\Blidgpdf}{\lidgpdfib{\Bgpdf}}

% image of a groupoid by a morphism
\newcommand{\imggpd}[3]{{}_{#1}^{#2}{#3}}
\newcommand{\Ximggpd}[2]{\imggpd{#1}{#2}{\Xgpdf}}
\newcommand{\Yimggpd}[2]{\imggpd{#1}{#2}{\Ygpdf}}
\newcommand{\Zimggpd}[2]{\imggpd{#1}{#2}{\Zgpdf}}
\newcommand{\FGXimggpd}{\Ximggpd{F}{G}}
\newcommand{\FGYimggpd}{\Yimggpd{F}{G}}
\newcommand{\FGZimggpd}{\Zimggpd{F}{G}}

% notation for functors
\newcommand{\fctr}[1]{\mathrm{#1}} % \ftr is already taken by the long arrow below
\newcommand{\idftr}[1]{\fctr{Id}_{#1}}
\newcommand{\twoftr}[1]{\mathbf{#1}}
\newcommand{\idtwftr}[1]{\twoftr{Id}_{#1}}

% arrows
\newcommand{\tnat}{\Rightarrow} %{\stackrel{\smash{\raisebox{-.2ex}{.\kern.5ex}}}\to}
\newcommand{\ftr}{\longrightarrow}
\newcommand{\fib}{\mathrel{\longrightarrow\mathllap{\to}}}

% some functors
\newcommand{\famcat}[1]{\cat{Fam}(#1)}
\newcommand{\famfib}[1]{\fctr{Fam}_{#1}}
